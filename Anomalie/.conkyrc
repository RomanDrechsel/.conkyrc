local pipe = io.popen("xrandr --current | grep '*' | uniq | awk 'NR==2 {print $1}' | cut -d 'x' -f 2")
local height = 2400
if pipe then
	height = tonumber(pipe:read("*a"))
	pipe:close()
end

conky.config = {
	background = true,
	update_interval = 1,
	cpu_avg_samples = 4,
	net_avg_samples = 2,
	out_to_console = false,
	override_utf8_locale = true,
	double_buffer = true,
	no_buffers = true,
	text_buffer_size = 32768,
	imlib_cache_size = 0,
	own_window = true,
	own_window_type = 'panel',
	own_window_class = 'conky',
	own_window_argb_visual = false,
    own_window_argb_value = 0,
	own_window_hints = 'undecorated,above,sticky,skip_taskbar,skip_pager',
	own_window_colour = '1f282c',
	own_window_transparent = false,
	show_graph_scale = false,
    default_bar_height = 10,
    default_bar_width = 0,
	default_graph_height = 80,
	default_graph_width = 350,
	alignment = 'top_right',
	gap_x = 5,
	gap_y = 0,
	xinerama_head = 1,
	use_xft = true,
	maximum_width = 350,
    minimum_width = 350,
	minimum_height = height,
    font = "Roboto Slab:size=10",
    lua_load = '~/MyStuff/Coding/Github/MyConky/Anomalie/lua/conky.lua',
    lua_draw_hook_pre = 'pre',
    draw_borders = false,
	draw_graph_borders = true,
	draw_shades = false,
	draw_outline = false,
    top_name_width = 18,
}

conky.text = [[
${lua_parse conky_clock}
${lua_parse conky_system}
${lua_parse conky_cpu}
${lua_parse conky_memory}
${lua_parse conky_disk}
${lua_parse conky_gpu}
${lua_parse conky_network}
${lua_parse conky_processes}
]]
